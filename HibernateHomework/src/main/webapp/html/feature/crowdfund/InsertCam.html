<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Insert Cam</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div align="center" class="container mt-5">
    <h2>新增活動資料</h2>
    <form method="post" action="/HibernateHomework/CrowdFundCreateCam" onsubmit="return validateForm();" enctype="multipart/form-data">
      <table border="1" class="table table-striped" >
        <tr style="background-color:#a8fefa">
          <th>欄位</th>
          <th>請輸入內容</th>
        </tr>
        <tr>
          <td>活動名稱</td>
          <td><input type="text" class="form-control" name="campaign_name" required /></td>
        </tr>
        <tr>
          <td>活動類別</td>
          <td>
            <select name="campaign_category" class="form-select">
              	<option value="手作">手作</option>
                <option value="音樂">音樂</option>
                <option value="科技">科技</option>
                <option value="環境">環境</option>
                <option value="社會">社會</option>
                <option value="時尚">時尚</option>
                <option value="教育">教育</option>
                <option value="其他">其他</option>

            </select>
          </td>
        </tr>
        <tr>
          <td>目標金額</td>
          <td><input type="number" class="form-control" name="goal_amount" min="1" required/></td>
        </tr>
        <tr>
          <td>目前金額</td>
          <td><input type="number" class="form-control" name="current_amount" min="0" required/></td>
        </tr>
        <tr>
          <td>開始日期</td>
          <td><input type="date" class="form-control" name="start_date" id="start_date" required/></td>
        </tr>
        <tr>
          <td>結束日期</td>
          <td><input type="date" class="form-control" name="end_date" id="end_date" required/></td>
        </tr>
        <tr>
   		 	<td>活動圖片</td>
    		<td><input type="file" class="form-control" name="cover_image" accept="image/*" /></td>
  		</tr>
        
        <tr>
          <td>活動狀態</td>
          <td>
            <select name="status" class="form-select">
              <option value="草稿">草稿</option>
              <option value="進行中">進行中</option>
              <option value="成功">成功</option>
              <option value="已結束">已結束</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>建立者 ID</td>
          <td><input type="text" class="form-control" name="creator_id" required/></td>
        </tr>
        <tr>
          <td>活動描述</td>
          <td><input type="text" class="form-control" name="description" /></td>
        </tr>
      </table>
        <td><input type="submit" class="btn btn-primary" value="確定" /></td>
        
    </form>
  </div>
  <script>
  function validateForm(){
	  const creatorId = document.querySelector("input[name='creator_id']").value;
	  if (!/^\d+$/.test(creatorId)) {
	      alert("建立者 ID 格式不正確");
	      return false;
	    }
	  return validateDates();
  }
  
  function validateDates(){
	  const start = document.querySelector("#start_date").value;
	  const end = document.querySelector("#end_date").value;
	  if(start && end && new Date(end) < new Date(start)){
		  alert("結束日期不能早於開始日期");
		  return false;
	  }
	  return true;
  }
  
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
  </script>
</body>

</html>